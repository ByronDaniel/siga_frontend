 {{formReferenceIn.value|json}} 
<p-card>
 <div class="p-fluid">
    <form [formGroup]="formReferenceIn" (ngSubmit)="onSubmit()">
       
        <div class="p-field p-xl-12 p-lg-6 p-md-6 p-sm-15">
            <label for="institution">
              <i class="p-error">*</i> Institución:
              <i *ngIf="institutionField.valid" class="pi pi-check-circle icon-valid"></i>
              <i *ngIf="institutionField.invalid && (institutionField.touched || institutionField.dirty)"
                class="pi pi-times-circle icon-invalid"></i>
            </label>
            <p-dropdown id="institution" [options]="institutions" formControlName="institution"
                        optionLabel="name" [filter]="true" filterBy="name"
                        placeholder="Seleccione...">
              <ng-template pTemplate="selectedinstitution">
                <div class="country-institution country-institution-value"  *ngIf="institutionField.value">
                  <div>{{institution.name}}</div>
                </div>
              </ng-template>
              <ng-template let-institution pTemplate="institution">
                <div class="country-institution">
                  <div>{{institution.name}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>

         <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="position">Cargo:</label>
                <input id="position" name="position" pInputText formControlName="position" />
                <div *ngIf="positionField.errors && positionField.touched">
                    <small *ngIf="positionField.hasError('required')" 
                    id="position-help-1" class="p-error">
                        {{messageService.fieldRequired}}
                    </small>
                </div>
            </div>
        </div>
         <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="contactName">Nombre de contacto:</label>
                <input id="contactName" name="contactName" pInputText formControlName="contact_name" />
                <div *ngIf="contactNameField.errors && contactNameField.touched">
                    <small *ngIf="contactNameField.hasError('required')" 
                    id="contact_name-help-1" class="p-error">
                        {{messageService.fieldRequired}}
                    </small>
                </div>
            </div>
        </div>
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="contactPhone">Número de contacto:</label>
                <input id="contactPhone" name="contactPhone" pInputText formControlName="contact_phone" />
                <div *ngIf="contactPhoneField.errors && contactPhoneField.touched">
                    <small *ngIf="contactPhoneField.hasError('required')" 
                    id="contact_phone-help-1" class="p-error">
                        {{messageService.fieldRequired}}
                    </small>
                </div>
            </div>
        </div>
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="contactEmail">Email de contacto:</label>
                <input id="contactEmail" name="contactEmail" pInputText formControlName="contact_email" />
                <div *ngIf="contactEmailField.errors && contactEmailField.touched">
                    <small *ngIf="contactEmailField.hasError('required')" 
                    id="contact_email-help-1" class="p-error">
                        {{messageService.fieldRequired}}
                    </small>
                </div>
            </div>
        </div>
        <div class="p-formgrid p-grid">
            <div class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                <button pButton pRipple type="submit" id="btnSaveLeave"
                        label="Guardar y Salir"
                        class="p-button-success p-button-raised"
                        icon="pi pi-save"></button>
            </div>
            <div *ngIf="!idField.value" class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                <button pButton pRipple type="button" id="btnSave"
                        label="Guardar"
                        class="p-button-raised"
                        icon="pi pi-arrow-right"
                        (click)="onSubmit(true)"></button>
            </div>
        </div>
    </form>
</div>
</p-card>