<h1>Conteo de empresas y más</h1>

<hr>

<div class="p-grid">
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-3 p-xl-3">
        <div class="card">
            <h4>Filtrado por categorias.</h4>
            <p-button icon="pi pi-filter" label="Filtrar" styleClass="p-mb-2 p-mr-2"
                      (click)="categoriesSelected()"></p-button>
            <p-button icon="pi pi-filter-slash" label="Limpiar" styleClass="p-mb-2"
                      (click)="cleanSelectedCategories()"></p-button>
            <p-tree [value]="treeData" [virtualScroll]="true" [scrollHeight]="scrollHeight" [virtualNodeHeight]="33"
                    selectionMode="checkbox" [(selection)]="selectedCategories" [filter]="true"></p-tree>
        </div>
    </div>
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-9 p-xl-9">
        <div class="card p-mt-0">
            <p-paginator [rows]="paginator.per_page"
                         [totalRecords]="paginator.total"
                         (onPageChange)="pageChange($event)"></p-paginator>
            <app-offer-data-view [offers]="offers"></app-offer-data-view>
        </div>
    </div>
</div>

<p-dialog header="Filtros" [(visible)]="displayModalFilter" [modal]="true"
          [maximizable]="true" [draggable]="false" [resizable]="false">

    <div class="p-fluid">
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="code">Código:</label>
                <input id="code" type="text" pInputText pKeyFilter="int" placeholder="1231654">
                <small id="username-help">Si busca por el código, se desabilita los demas filtros.</small>
            </div>

            <div class="p-field p-col">
                <label for="position">Cargo:</label>
                <input id="position" type="text" pInputText placeholder="cargo"/>
            </div>
        </div>
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="region">Provincia:</label>
                <!--[options]="cities" [(ngModel)]="selectedCity1"-->
                <p-dropdown id="region" placeholder="Selecciona tu provincia." optionLabel="region"
                            styleClass="p-col-12"
                            [showClear]="true"></p-dropdown>
            </div>

            <div class="p-field p-col">
                <label for="subregion">Cantón:</label>
                <p-dropdown id="subregion" placeholder="Selecciona tu ciudad " optionLabel="subregion"
                            [showClear]="true"></p-dropdown>
            </div>
        </div>
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="parentCategory">Campo Amplio:</label>
                <p-dropdown id="parentCategory" placeholder="Campo amplio" optionLabel="parentCategory"
                            [showClear]="true"></p-dropdown>
            </div>

            <div class="p-field p-col">
                <label for="specificCategory">Campo Específico:</label>
                <p-dropdown id="specificCategory" placeholder="Campo especifico." optionLabel="specificCategory"
                            [showClear]="true"></p-dropdown>
            </div>
        </div>

    </div>

    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayModalFilter=false" label="Yes" class="p-button-text"></p-button>
        <p-button icon="pi pi-times" (click)="displayModalFilter=false" label="No"></p-button>
    </ng-template>
</p-dialog>

<p-dialog header="Godfather I" [(visible)]="displayMoreInformation" [modal]="true" [style]="{width: '50vw'}"
          [maximizable]="true" [baseZIndex]="10000" [draggable]="false" [resizable]="false">

    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur
        sint occaecat
        cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayMoreInformation=false" label="Yes"
                  class="p-button-text"></p-button>
        <p-button icon="pi pi-times" (click)="displayMoreInformation=false" label="No"></p-button>
    </ng-template>
</p-dialog>
