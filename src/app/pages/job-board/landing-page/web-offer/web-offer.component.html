<hr>

<div class="p-grid">
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-12 p-xl-3">
        <div class="card p-shadow-2">
            <h4>Filtrado por categorias.</h4>
            <p-splitButton label="Filtrar" icon="pi pi-filter"
                           (onClick)="filterForCategoriesSelected()" styleClass="p-mb-2 p-mr-2"
                           [model]="items"></p-splitButton>
            <p-button icon="pi pi-filter-slash" label="Limpiar" styleClass="p-mb-2"
                      (click)="cleanSelectedCategories()"></p-button>

            <p-tree [value]="treeData" [virtualScroll]="true" [scrollHeight]="scrollHeight" [virtualNodeHeight]="33"
                    selectionMode="checkbox" [(selection)]="selectedCategories" [filter]="true"></p-tree>
        </div>
    </div>
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-12 p-xl-9">
        <div class="card p-mt-0 p-shadow-2">
            <p-paginator [rows]="paginator.per_page"
                         [totalRecords]="paginator.total"
                         (onPageChange)="pageChange($event)"></p-paginator>
            <app-offer-data-view [offers]="offers"></app-offer-data-view>
        </div>
    </div>
</div>

<p-dialog header="Más filtros" [(visible)]="displayModalFilter" [modal]="true"
          [maximizable]="true" [draggable]="false" [resizable]="false">

    <div class="p-fluid">
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
<!--                <label for="code">Código:</label>-->
                <h3>Código:</h3>
                <input id="code" type="text" pInputText pKeyFilter="int" placeholder="1231654">
                <small id="username-help">Si busca por el código, se desabilita los demas filtros.</small>
            </div>

            <div class="p-field p-col">
<!--                <label for="position">Cargo:</label>-->
                <h3>Cargo:</h3>
                <input id="position" type="text" pInputText placeholder="cargo"/>
            </div>
        </div>
<!--        <div class="p-formgrid p-grid">-->
<!--            <div class="p-field p-col">-->
<!--                <label for="region">Provincia:</label>-->
<!--                &lt;!&ndash;[options]="cities" [(ngModel)]="selectedCity1"&ndash;&gt;-->
<!--                <p-dropdown id="region" placeholder="Selecciona tu provincia." optionLabel="region"-->
<!--                            styleClass="p-col-12"-->
<!--                            [showClear]="true"></p-dropdown>-->
<!--            </div>-->

<!--            <div class="p-field p-col">-->
<!--                <label for="subregion">Cantón:</label>-->
<!--                <p-dropdown id="subregion" placeholder="Selecciona tu ciudad " optionLabel="subregion"-->
<!--                            [showClear]="true"></p-dropdown>-->
<!--            </div>-->
<!--        </div>-->
        <app-location></app-location>
        <div class="p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="parentCategory">Campo Amplio:</label>
                <p-dropdown id="parentCategory" placeholder="Campo amplio" optionLabel="parentCategory"
                            [showClear]="true"></p-dropdown>
            </div>

            <div class="p-field p-col">
                <label for="specificCategory">Campo Específico:</label>
                <p-dropdown id="specificCategory" placeholder="Campo especifico." optionLabel="specificCategory"
                            [showClear]="true"></p-dropdown>
            </div>
        </div>
    </div>

    <ng-template pTemplate="footer">
        <p-button icon="pi pi-filter" (click)="displayModalFilter=false" label="Filtrar"
                  class="p-button-text"></p-button>
        <p-button icon="pi pi-times" styleClass="p-button-secondary" (click)="displayModalFilter=false"
                  label="Cerrar"></p-button>
    </ng-template>
</p-dialog>
